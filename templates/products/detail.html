{% extends 'base.html' %}

{% block title -%}
Products #{{product.id}}
{%- endblock %}

{% block body  -%}
<h2 id="product-name">{{ product.name_product }}
    {% if product.is_new %}
    <span class="badge bg-warning">New</span>
    {% endif %}
</h2>
 <style>
   a {
    text-decoration: none;
   }
  </style>
<hr>
<a href="{{ url_for('product_app.product_list') }}">Product list</a>

 <div class="cart_section">
     <div class="container-fluid">
         <div class="row">
             <div class="col-lg-10 offset-lg-1">
                 <div class="cart_container">
                     <div class="cart_title">Shopping Cart<small> (1 item in your cart) </small></div>
                     <div class="cart_items">
                         <ul class="cart_list">
                             <li class="cart_item clearfix">
                                 <div class="cart_item_image"><img src="{{ url_for('static', filename='img/t_shirt.jpeg') }}" class="cart-item-image"  alt=""></div>
                                 <div class="cart_item_info d-flex flex-md-row flex-column justify-content-between">
                                     <div class="cart_item_name cart_info_col">
                                         <div class="cart_item_title">Name</div>
                                         <div class="cart_item_text"><code>{{ product.name_product -}}</code></div>
                                     </div>
                                     <div class="cart_item_color cart_info_col">
                                         <div class="cart_item_title">Color</div>
                                            <input type="color" class="cart_item_text" id="exampleColorInput" value="#563d7c" title="Choose your color">
                                     </div>
                                       <div class="cart_item_quantity cart_info_col">
                                         <div class="cart_item_title">Size</div>
                                           {% for char in product.characters %}
                                         <div class="cart_item_text"><code>{{ char.size }}</code></div>
                                     </div>
                                      <div class="cart_item_quantity cart_info_col">
                                         <div class="cart_item_title">Sex</div>
                                         <div class="cart_item_text"><code>{{ char.sex }}</code></div>
                                           {% endfor %}
                                     </div>
                                     <div class="cart_item_quantity cart_info_col">
                                         <div class="cart_item_title">Quantity</div>
                                         <div class="cart_item_text"><code>1</code></div>
                                     </div>
                                     <div class="cart_item_price cart_info_col">
                                         <div class="cart_item_title">Price</div>
                                         <div class="cart_item_text"><code>800</code></div>
                                     </div>
                                     <div class="cart_item_total cart_info_col">
                                         <div class="cart_item_title">Total</div>
                                         <div class="cart_item_text"><code>800</code></div>
                                     </div>
                                 </div>
                             </li>
                         </ul>
                     </div>
                     <div class="order_total">
                         <div class="order_total_content text-md-right">
                             <div class="order_total_title">Order Total:</div>
                             <div class="order_total_amount"><code>800</code></div>
                         </div>
                     </div>
                     <div class="cart_buttons"><button type="button" class="button cart_button_clear"><a href="{{ url_for('product_app.product_list') }}">Continue Shopping</a></button><button type="button" class="button cart_button_checkout"><a href="{{ url_for('cart_app.cart_list', product_id=product.id, cart_id=product.id) }}">Add to cart</a></button> </div>
                 </div>
             </div>
         </div>
     </div>
 </div>

<!-- Modal -->
<div class="modal fade" id="gallery-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Our team</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <img src="{{ url_for('static', filename='img/img_squash/nikita.jpg') }}" class="modal-img" alt="modal img">
      </div>
    </div>
  </div>
</div>


<hr>
{# Admin area #}
 <div>
     <button id="delete-product" class="btn btn-danger">Delete</button>
 </div>
{%- endblock %}
{% block after_body %}
 <script src="{{ url_for('static', filename='js/color.js') }}">

    $(function () {
    const name = $('#product-name')
    console.log(name.text())

    $('#delete-product').click(function () {

    $.ajax({
        method: 'DELETE',
        success: function (res) {
            console.log(res)
            console.log(res.data)
        },
        error: function (err) {
            console.error(err)
            },
        complete: function () {
            window.location = '{{ url_for('product_app.product_list') }}'
        },
       })
      })
    });
</script>
{% endblock %}
